<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Purple Rain</title>
    <meta name="description" content="Purple Rain">
    <script src="assets/aframe.min.js"></script>
    <script src="assets/d3-threeD.js"></script>
    <script src="assets/SVGLoader.js"></script>
    <script src="components/entity-generator.js"></script>
    <script src="components/extrude-svg.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <img id="ground" src="assets/ground.jpg">
        <img id="love" src="assets/love.svg">
        <img id="prince" src="assets/prince.png">
        <a-mixin id="raindrop"
                 geometry="primitive: box; depth: 0.008; height: 0.05; width: 0.008"
                 material="color: #590D82; shader: flat"></a-mixin>
        <a-mixin id="spotlight"
                 light="angle: 160; color: #FFF; intensity: 0.8; type: spot"
                 rotation="45 45 0"></a-mixin>
      </a-assets>

      <audio autoplay loop src="assets/purplerain.mp3"></audio>

      <a-entity svg-extrude-geometry="src: #love; bevelThickness: 4; curveSegments: 64"
                material="color: purple; metalness: 0.1; roughess: 0.7"
                scale="0.34 0.34 0.34" rotation="90 0 0" position="-103 1 -220"></a-entity>
      <a-image src="#prince" position="0 5 -3" scale="3 5 3"></a-image>

      <a-entity id="rain-generator" entity-generator="mixin: raindrop; num: 1500; spread: 15"
                position="0 10 5">
        <a-animation id="fall" attribute="position" dur="700" easing="linear"
                     repeat="indefinite" to="0 0 5"></a-animation>
      </a-entity>

      <a-entity camera look-controls position="0 5 10"></a-entity>

      <a-light type="ambient" color="#222"></a-light>
      <a-light mixin="spotlight" position="-20 25 -40"></a-light>
      <a-light mixin="spotlight" position="20 25 -40"></a-light>

      <a-sky color="#000"></a-sky>
      <a-entity geometry="primitive: plane; height: 100; width: 100"
                material="color: #333; src: #ground; repeat: 100 100; metalness: 0;
                          roughness: 0.8"
                rotation="-90 0 0"></a-entity>
    </a-scene>
  </body>
</html>
